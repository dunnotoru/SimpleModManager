<suki:SukiWindow xmlns="https://github.com/avaloniaui"
                 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                 xmlns:vm="using:SimpleModManager.ViewModels"
                 xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                 xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                 xmlns:rxui="http://reactiveui.net"
                 xmlns:suki="https://github.com/kikipoulet/SukiUI"
                 xmlns:views="clr-namespace:SimpleModManager.Views"
                 mc:Ignorable="d"
                 d:DesignWidth="1920"
                 d:DesignHeight="1080"
                 x:Class="SimpleModManager.Views.MainWindow"
                 x:DataType="vm:MainWindowViewModel"
                 Icon="/Assets/avalonia-logo.ico"
                 Title="SimpleModManager">

  <Design.DataContext>
    <vm:MainWindowViewModel />
  </Design.DataContext>

  <suki:SukiWindow.Hosts>
    <suki:SukiDialogHost Manager="{Binding DialogManager}">
      <suki:SukiDialogHost.DataTemplates>
        <DataTemplate DataType="{x:Type vm:DumpModpackForm}">
          <StackPanel>
            <TextBox Watermark="Directory name"
                     UseFloatingWatermark="True"
                     Text="{Binding DirName}" />
          </StackPanel>
        </DataTemplate>
      </suki:SukiDialogHost.DataTemplates>
    </suki:SukiDialogHost>
  </suki:SukiWindow.Hosts>

  <Grid ColumnDefinitions="1*, 2*"
        RowDefinitions="1*, 9*">
    <suki:GlassCard Grid.Column="0"
                    Grid.Row="1"
                    Margin="10">
      <suki:GroupBox>
        <suki:GroupBox.Header>
          <TextBlock Classes="h4"
                     Text="Detected modpacks" />
        </suki:GroupBox.Header>
        <ListBox ItemsSource="{Binding Modpacks}"
                 SelectedItem="{Binding SelectedModpack}"
                 SelectionMode="Single">
          <ListBox.ItemTemplate>
            <DataTemplate>
              <DockPanel>
                <Image DockPanel.Dock="Left"
                       Margin="5"
                       Width="100"
                       Height="100"
                       Source="{Binding Logo}"
                       Stretch="Fill" />
                <TextBlock Text="{Binding Name}"
                           Foreground="White"
                           TextWrapping="Wrap" />
              </DockPanel>
            </DataTemplate>
          </ListBox.ItemTemplate>
        </ListBox>
      </suki:GroupBox>
    </suki:GlassCard>

    <StackPanel Grid.Column="1"
                Grid.Row="0"
                Margin="0 10 0 0"
                Orientation="Horizontal">
      <Button Content="Load"
              Margin="0 0 10 0"
              Command="{Binding LoadModpack}"
              CommandParameter="{Binding SelectedModpack}" />
      <Button Content="DumpCurrent"
              Command="{Binding DumpCurrent}" />
    </StackPanel>

    <suki:GlassCard Grid.Column="1"
                    Grid.Row="1"
                    Margin="10">
      <suki:GroupBox>
        <suki:GroupBox.Header>
          <TextBlock Classes="h4"
                     Text="Modpack details" />
        </suki:GroupBox.Header>
        <DockPanel DataContext="{Binding SelectedModpack}">
          <TextBlock DockPanel.Dock="Top">
            <Run Text="Directory:"
                 FontWeight="Heavy" />
            <Run Text="{Binding ModpackDirectory}" />
          </TextBlock>
          <TextBlock DockPanel.Dock="Top">
            <Run Text="Name: "
                 FontWeight="Heavy" />
            <Run Text="{Binding Name}" />
          </TextBlock>
          <TextBlock DockPanel.Dock="Top"
                     Classes="h5"
                     FontWeight="Heavy"
                     Text="Mod List">
          </TextBlock>
          <ItemsControl ItemsSource="{Binding Mods}">
            <ItemsControl.ItemTemplate>
              <DataTemplate>
                <TextBlock Text="{Binding}" />
              </DataTemplate>
            </ItemsControl.ItemTemplate>
          </ItemsControl>
        </DockPanel>
      </suki:GroupBox>
    </suki:GlassCard>
  </Grid>
</suki:SukiWindow>